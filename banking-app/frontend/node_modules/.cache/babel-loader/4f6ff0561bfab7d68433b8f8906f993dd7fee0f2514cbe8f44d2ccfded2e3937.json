{"ast":null,"code":"// src/components/Dashboard/TransactionHistory.js\nimport React,{useState,useEffect,useContext}from'react';import{AuthContext}from'../Auth/AuthContext';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TransactionHistory=()=>{const{token}=useContext(AuthContext);const[transactions,setTransactions]=useState([]);const[filter,setFilter]=useState('all');useEffect(()=>{fetchTransactions();},[filter]);const fetchTransactions=async()=>{try{const response=await axios.get(`${process.env.REACT_APP_API_URL}/transactions?filter=${filter}`,{headers:{Authorization:`Bearer ${token}`}});setTransactions(response.data);}catch(error){console.error('Error fetching transactions:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"transaction-history\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Transaction History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-controls\",children:/*#__PURE__*/_jsxs(\"select\",{value:filter,onChange:e=>setFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Transactions\"}),/*#__PURE__*/_jsx(\"option\",{value:\"deposit\",children:\"Deposits\"}),/*#__PURE__*/_jsx(\"option\",{value:\"withdrawal\",children:\"Withdrawals\"}),/*#__PURE__*/_jsx(\"option\",{value:\"loan\",children:\"Loans\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"transactions-list\",children:transactions.map(transaction=>/*#__PURE__*/_jsxs(\"div\",{className:\"transaction-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"transaction-type\",children:transaction.type.toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{className:\"transaction-amount\",children:[\"$\",transaction.amount]}),/*#__PURE__*/_jsx(\"div\",{className:\"transaction-status\",children:transaction.status}),/*#__PURE__*/_jsx(\"div\",{className:\"transaction-date\",children:new Date(transaction.timestamp).toLocaleDateString()})]},transaction._id))})]});};export default TransactionHistory;","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","axios","jsx","_jsx","jsxs","_jsxs","TransactionHistory","token","transactions","setTransactions","filter","setFilter","fetchTransactions","response","get","process","env","REACT_APP_API_URL","headers","Authorization","data","error","console","className","children","value","onChange","e","target","map","transaction","type","toUpperCase","amount","status","Date","timestamp","toLocaleDateString","_id"],"sources":["C:/Users/Tact/Desktop/Portfolio/banking-app/frontend/src/components/Dashboard/TransactionHistory.js"],"sourcesContent":["// src/components/Dashboard/TransactionHistory.js\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from '../Auth/AuthContext';\r\nimport axios from 'axios';\r\n\r\nconst TransactionHistory = () => {\r\n  const { token } = useContext(AuthContext);\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [filter, setFilter] = useState('all');\r\n\r\n  useEffect(() => {\r\n    fetchTransactions();\r\n  }, [filter]);\r\n\r\n  const fetchTransactions = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        `${process.env.REACT_APP_API_URL}/transactions?filter=${filter}`,\r\n        { headers: { Authorization: `Bearer ${token}` }}\r\n      );\r\n      setTransactions(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching transactions:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"transaction-history\">\r\n      <h2>Transaction History</h2>\r\n      \r\n      <div className=\"filter-controls\">\r\n        <select value={filter} onChange={(e) => setFilter(e.target.value)}>\r\n          <option value=\"all\">All Transactions</option>\r\n          <option value=\"deposit\">Deposits</option>\r\n          <option value=\"withdrawal\">Withdrawals</option>\r\n          <option value=\"loan\">Loans</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"transactions-list\">\r\n        {transactions.map(transaction => (\r\n          <div key={transaction._id} className=\"transaction-card\">\r\n            <div className=\"transaction-type\">\r\n              {transaction.type.toUpperCase()}\r\n            </div>\r\n            <div className=\"transaction-amount\">\r\n              ${transaction.amount}\r\n            </div>\r\n            <div className=\"transaction-status\">\r\n              {transaction.status}\r\n            </div>\r\n            <div className=\"transaction-date\">\r\n              {new Date(transaction.timestamp).toLocaleDateString()}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionHistory;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}