{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tact\\\\Desktop\\\\Portfolio\\\\banking-app\\\\frontend\\\\src\\\\components\\\\Dashboard\\\\AdminDashboard.js\",\n  _s = $RefreshSig$();\n// src/components/Dashboard/AdminDashboard.js\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../Auth/AuthContext';\nimport NotificationPanel from '../Notifications/NotificationPanel';\nimport TransactionHistory from './TransactionHistory';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminDashboard = () => {\n  _s();\n  const {\n    user,\n    token\n  } = useContext(AuthContext);\n  const [accountDetails, setAccountDetails] = useState(null);\n  const [members, setMembers] = useState([]);\n  const [loanRequests, setLoanRequests] = useState([]);\n  useEffect(() => {\n    fetchAccountDetails();\n    fetchMembers();\n    fetchLoanRequests();\n  }, []);\n  const fetchAccountDetails = async () => {\n    try {\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/account`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setAccountDetails(response.data);\n    } catch (error) {\n      console.error('Error fetching account details:', error);\n    }\n  };\n  const fetchMembers = async () => {\n    try {\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/account/members`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setMembers(response.data);\n    } catch (error) {\n      console.error('Error fetching members:', error);\n    }\n  };\n  const fetchLoanRequests = async () => {\n    try {\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/loans/pending`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setLoanRequests(response.data);\n    } catch (error) {\n      console.error('Error fetching loan requests:', error);\n    }\n  };\n  const handleLoanApproval = async (loanId, status) => {\n    try {\n      await axios.put(`${process.env.REACT_APP_API_URL}/loans/${loanId}`, {\n        status\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      fetchLoanRequests();\n    } catch (error) {\n      console.error('Error updating loan status:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Welcome, \", user.fullName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NotificationPanel, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"account-summary\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Account Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), accountDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Account Balance: $\", accountDetails.balance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Total Members: \", members.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Pending Loans: \", loanRequests.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loan-requests\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Pending Loan Requests\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), loanRequests.map(loan => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loan-request-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Member: \", loan.user.fullName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Amount: $\", loan.amount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Date: \", new Date(loan.timestamp).toLocaleDateString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleLoanApproval(loan._id, 'approved'),\n            children: \"Approve\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleLoanApproval(loan._id, 'rejected'),\n            children: \"Reject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, loan._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TransactionHistory, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminDashboard, \"VAL88g1PatwuR9imyMKqRV6DcrM=\");\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","NotificationPanel","TransactionHistory","axios","jsxDEV","_jsxDEV","AdminDashboard","_s","user","token","accountDetails","setAccountDetails","members","setMembers","loanRequests","setLoanRequests","fetchAccountDetails","fetchMembers","fetchLoanRequests","response","get","process","env","REACT_APP_API_URL","headers","Authorization","data","error","console","handleLoanApproval","loanId","status","put","className","children","fullName","fileName","_jsxFileName","lineNumber","columnNumber","balance","length","map","loan","amount","Date","timestamp","toLocaleDateString","onClick","_id","_c","$RefreshReg$"],"sources":["C:/Users/Tact/Desktop/Portfolio/banking-app/frontend/src/components/Dashboard/AdminDashboard.js"],"sourcesContent":["// src/components/Dashboard/AdminDashboard.js\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from '../Auth/AuthContext';\r\nimport NotificationPanel from '../Notifications/NotificationPanel';\r\nimport TransactionHistory from './TransactionHistory';\r\nimport axios from 'axios';\r\n\r\nconst AdminDashboard = () => {\r\n  const { user, token } = useContext(AuthContext);\r\n  const [accountDetails, setAccountDetails] = useState(null);\r\n  const [members, setMembers] = useState([]);\r\n  const [loanRequests, setLoanRequests] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchAccountDetails();\r\n    fetchMembers();\r\n    fetchLoanRequests();\r\n  }, []);\r\n\r\n  const fetchAccountDetails = async () => {\r\n    try {\r\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/account`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setAccountDetails(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching account details:', error);\r\n    }\r\n  };\r\n\r\n  const fetchMembers = async () => {\r\n    try {\r\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/account/members`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setMembers(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching members:', error);\r\n    }\r\n  };\r\n\r\n  const fetchLoanRequests = async () => {\r\n    try {\r\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/loans/pending`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      setLoanRequests(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching loan requests:', error);\r\n    }\r\n  };\r\n\r\n  const handleLoanApproval = async (loanId, status) => {\r\n    try {\r\n      await axios.put(\r\n        `${process.env.REACT_APP_API_URL}/loans/${loanId}`,\r\n        { status },\r\n        { headers: { Authorization: `Bearer ${token}` }}\r\n      );\r\n      fetchLoanRequests();\r\n    } catch (error) {\r\n      console.error('Error updating loan status:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-dashboard\">\r\n      <div className=\"dashboard-header\">\r\n        <h1>Welcome, {user.fullName}</h1>\r\n        <NotificationPanel />\r\n      </div>\r\n\r\n      <div className=\"account-summary\">\r\n        <h2>Account Summary</h2>\r\n        {accountDetails && (\r\n          <div className=\"summary-details\">\r\n            <p>Account Balance: ${accountDetails.balance}</p>\r\n            <p>Total Members: {members.length}</p>\r\n            <p>Pending Loans: {loanRequests.length}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"loan-requests\">\r\n        <h2>Pending Loan Requests</h2>\r\n        {loanRequests.map(loan => (\r\n          <div key={loan._id} className=\"loan-request-card\">\r\n            <p>Member: {loan.user.fullName}</p>\r\n            <p>Amount: ${loan.amount}</p>\r\n            <p>Date: {new Date(loan.timestamp).toLocaleDateString()}</p>\r\n            <div className=\"action-buttons\">\r\n              <button onClick={() => handleLoanApproval(loan._id, 'approved')}>\r\n                Approve\r\n              </button>\r\n              <button onClick={() => handleLoanApproval(loan._id, 'rejected')}>\r\n                Reject\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <TransactionHistory />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}