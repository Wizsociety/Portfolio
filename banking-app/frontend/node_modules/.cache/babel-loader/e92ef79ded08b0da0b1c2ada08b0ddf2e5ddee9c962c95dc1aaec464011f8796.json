{"ast":null,"code":"// src/components/Transactions/LoanRequest.js\nimport React,{useState,useContext}from'react';import{AuthContext}from'../Auth/AuthContext';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoanRequest=_ref=>{let{onLoanRequested}=_ref;const{token}=useContext(AuthContext);const[amount,setAmount]=useState('');const[reason,setReason]=useState('');const[message,setMessage]=useState('');const handleSubmit=async e=>{e.preventDefault();try{await axios.post(`${process.env.REACT_APP_API_URL}/loans/request`,{amount:parseFloat(amount),reason},{headers:{Authorization:`Bearer ${token}`}});setMessage('Loan request submitted successfully');setAmount('');setReason('');if(onLoanRequested){onLoanRequested();}}catch(error){var _error$response,_error$response$data;setMessage(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Loan request failed');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"loan-request-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Request a Loan\"}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"message\",children:message}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:amount,onChange:e=>setAmount(e.target.value),required:true,min:\"0\",step:\"0.01\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Reason for Loan\"}),/*#__PURE__*/_jsx(\"textarea\",{value:reason,onChange:e=>setReason(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit Loan Request\"})]})]});};export default LoanRequest;","map":{"version":3,"names":["React","useState","useContext","AuthContext","axios","jsx","_jsx","jsxs","_jsxs","LoanRequest","_ref","onLoanRequested","token","amount","setAmount","reason","setReason","message","setMessage","handleSubmit","e","preventDefault","post","process","env","REACT_APP_API_URL","parseFloat","headers","Authorization","error","_error$response","_error$response$data","response","data","className","children","onSubmit","type","value","onChange","target","required","min","step"],"sources":["C:/Users/Tact/Desktop/Portfolio/banking-app/frontend/src/components/Transactions/LoanRequest.js"],"sourcesContent":["// src/components/Transactions/LoanRequest.js\r\nimport React, { useState, useContext } from 'react';\r\nimport { AuthContext } from '../Auth/AuthContext';\r\nimport axios from 'axios';\r\n\r\nconst LoanRequest = ({ onLoanRequested }) => {\r\n  const { token } = useContext(AuthContext);\r\n  const [amount, setAmount] = useState('');\r\n  const [reason, setReason] = useState('');\r\n  const [message, setMessage] = useState('');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/loans/request`,\r\n        { amount: parseFloat(amount), reason },\r\n        { headers: { Authorization: `Bearer ${token}` }}\r\n      );\r\n      \r\n      setMessage('Loan request submitted successfully');\r\n      setAmount('');\r\n      setReason('');\r\n      \r\n      if (onLoanRequested) {\r\n        onLoanRequested();\r\n      }\r\n    } catch (error) {\r\n      setMessage(error.response?.data?.message || 'Loan request failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"loan-request-form\">\r\n      <h2>Request a Loan</h2>\r\n      {message && <div className=\"message\">{message}</div>}\r\n      \r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>Amount</label>\r\n          <input\r\n            type=\"number\"\r\n            value={amount}\r\n            onChange={(e) => setAmount(e.target.value)}\r\n            required\r\n            min=\"0\"\r\n            step=\"0.01\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Reason for Loan</label>\r\n          <textarea\r\n            value={reason}\r\n            onChange={(e) => setReason(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <button type=\"submit\">Submit Loan Request</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoanRequest;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}