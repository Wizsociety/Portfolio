{"ast":null,"code":"// src/components/Notifications/NotificationPanel.js\nimport React,{useState,useEffect,useContext}from'react';import{AuthContext}from'../Auth/AuthContext';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NotificationPanel=()=>{const{token}=useContext(AuthContext);const[notifications,setNotifications]=useState([]);useEffect(()=>{fetchNotifications();// Set up real-time updates if needed\nconst interval=setInterval(fetchNotifications,30000);return()=>clearInterval(interval);},[]);const fetchNotifications=async()=>{try{const response=await axios.get(`${process.env.REACT_APP_API_URL}/notifications`,{headers:{Authorization:`Bearer ${token}`}});setNotifications(response.data);}catch(error){console.error('Error fetching notifications:',error);}};const markAsRead=async notificationId=>{try{await axios.put(`${process.env.REACT_APP_API_URL}/notifications/${notificationId}/read`,{},// PUT body if no additional data is required\n{headers:{Authorization:`Bearer ${token}`}});fetchNotifications();// Refresh notifications after marking as read\n}catch(error){console.error('Error marking notification as read:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"notification-panel\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Notifications\"}),notifications.length>0?/*#__PURE__*/_jsx(\"ul\",{children:notifications.map(notification=>/*#__PURE__*/_jsxs(\"li\",{className:notification.read?'read':'unread',children:[/*#__PURE__*/_jsx(\"p\",{children:notification.message}),!notification.read&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>markAsRead(notification.id),children:\"Mark as Read\"})]},notification.id))}):/*#__PURE__*/_jsx(\"p\",{children:\"No notifications available.\"})]});};export default NotificationPanel;","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","axios","jsx","_jsx","jsxs","_jsxs","NotificationPanel","token","notifications","setNotifications","fetchNotifications","interval","setInterval","clearInterval","response","get","process","env","REACT_APP_API_URL","headers","Authorization","data","error","console","markAsRead","notificationId","put","className","children","length","map","notification","read","message","onClick","id"],"sources":["C:/Users/Tact/Desktop/Portfolio/banking-app/frontend/src/components/Notifications/NotificationPanel.js"],"sourcesContent":["// src/components/Notifications/NotificationPanel.js\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from '../Auth/AuthContext';\r\nimport axios from 'axios';\r\n\r\nconst NotificationPanel = () => {\r\n  const { token } = useContext(AuthContext);\r\n  const [notifications, setNotifications] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchNotifications();\r\n    // Set up real-time updates if needed\r\n    const interval = setInterval(fetchNotifications, 30000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const fetchNotifications = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        `${process.env.REACT_APP_API_URL}/notifications`,\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      setNotifications(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching notifications:', error);\r\n    }\r\n  };\r\n\r\n  const markAsRead = async (notificationId) => {\r\n    try {\r\n      await axios.put(\r\n        `${process.env.REACT_APP_API_URL}/notifications/${notificationId}/read`,\r\n        {}, // PUT body if no additional data is required\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      fetchNotifications(); // Refresh notifications after marking as read\r\n    } catch (error) {\r\n      console.error('Error marking notification as read:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"notification-panel\">\r\n      <h2>Notifications</h2>\r\n      {notifications.length > 0 ? (\r\n        <ul>\r\n          {notifications.map((notification) => (\r\n            <li key={notification.id} className={notification.read ? 'read' : 'unread'}>\r\n              <p>{notification.message}</p>\r\n              {!notification.read && (\r\n                <button onClick={() => markAsRead(notification.id)}>Mark as Read</button>\r\n              )}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      ) : (\r\n        <p>No notifications available.</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationPanel;\r\n\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAC9D,OAASC,WAAW,KAAQ,qBAAqB,CACjD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAAEC,KAAM,CAAC,CAAGR,UAAU,CAACC,WAAW,CAAC,CACzC,KAAM,CAACQ,aAAa,CAAEC,gBAAgB,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAEtDC,SAAS,CAAC,IAAM,CACdY,kBAAkB,CAAC,CAAC,CACpB;AACA,KAAM,CAAAC,QAAQ,CAAGC,WAAW,CAACF,kBAAkB,CAAE,KAAK,CAAC,CACvD,MAAO,IAAMG,aAAa,CAACF,QAAQ,CAAC,CACtC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAD,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACF,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAb,KAAK,CAACc,GAAG,CAC9B,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,gBAAgB,CAChD,CAAEC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUb,KAAK,EAAG,CAAE,CAClD,CAAC,CACDE,gBAAgB,CAACK,QAAQ,CAACO,IAAI,CAAC,CACjC,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACvD,CACF,CAAC,CAED,KAAM,CAAAE,UAAU,CAAG,KAAO,CAAAC,cAAc,EAAK,CAC3C,GAAI,CACF,KAAM,CAAAxB,KAAK,CAACyB,GAAG,CACb,GAAGV,OAAO,CAACC,GAAG,CAACC,iBAAiB,kBAAkBO,cAAc,OAAO,CACvE,CAAC,CAAC,CAAE;AACJ,CAAEN,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUb,KAAK,EAAG,CAAE,CAClD,CAAC,CACDG,kBAAkB,CAAC,CAAC,CAAE;AACxB,CAAE,MAAOY,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,qCAAqC,CAAEA,KAAK,CAAC,CAC7D,CACF,CAAC,CAED,mBACEjB,KAAA,QAAKsB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCzB,IAAA,OAAAyB,QAAA,CAAI,eAAa,CAAI,CAAC,CACrBpB,aAAa,CAACqB,MAAM,CAAG,CAAC,cACvB1B,IAAA,OAAAyB,QAAA,CACGpB,aAAa,CAACsB,GAAG,CAAEC,YAAY,eAC9B1B,KAAA,OAA0BsB,SAAS,CAAEI,YAAY,CAACC,IAAI,CAAG,MAAM,CAAG,QAAS,CAAAJ,QAAA,eACzEzB,IAAA,MAAAyB,QAAA,CAAIG,YAAY,CAACE,OAAO,CAAI,CAAC,CAC5B,CAACF,YAAY,CAACC,IAAI,eACjB7B,IAAA,WAAQ+B,OAAO,CAAEA,CAAA,GAAMV,UAAU,CAACO,YAAY,CAACI,EAAE,CAAE,CAAAP,QAAA,CAAC,cAAY,CAAQ,CACzE,GAJMG,YAAY,CAACI,EAKlB,CACL,CAAC,CACA,CAAC,cAELhC,IAAA,MAAAyB,QAAA,CAAG,6BAA2B,CAAG,CAClC,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtB,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}