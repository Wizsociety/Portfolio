{"ast":null,"code":"var _jsxFileName = \"/home/tyme/Portfolio/banking-app/frontend/src/components/Dashboard/MemberDashboard.js\",\n  _s = $RefreshSig$();\n// src/components/Dashboard/MemberDashboard.js\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../Auth/AuthContext';\nimport NotificationPanel from '../Notifications/NotificationPanel';\nimport TransactionHistory from './TransactionHistory';\nimport LoanRequest from '../Transactions/LoanRequest';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MemberDashboard = () => {\n  _s();\n  const {\n    user,\n    token\n  } = useContext(AuthContext);\n  const [accountDetails, setAccountDetails] = useState(null);\n  const [loans, setLoans] = useState([]);\n  useEffect(() => {\n    fetchAccountDetails();\n    fetchLoans();\n  }, []);\n  const fetchAccountDetails = async () => {\n    try {\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/account/member`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setAccountDetails(response.data);\n    } catch (error) {\n      console.error('Error fetching account details:', error);\n    }\n  };\n  const fetchLoans = async () => {\n    try {\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/loans/user`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setLoans(response.data);\n    } catch (error) {\n      console.error('Error fetching loans:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"member-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Welcome, \", user.fullName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NotificationPanel, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"account-summary\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Account Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), accountDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Account Balance: $\", accountDetails.balance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Available Loan Limit: $\", accountDetails.loanLimit]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loan-status\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Loans\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), loans.map(loan => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loan-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Amount: $\", loan.amount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Status: \", loan.status]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Date: \", new Date(loan.timestamp).toLocaleDateString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)]\n      }, loan._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LoanRequest, {\n      onLoanRequested: fetchLoans\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TransactionHistory, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(MemberDashboard, \"ohdgECBMfzSbNq7fiSBRdqEYhcs=\");\n_c = MemberDashboard;\nexport default MemberDashboard;\nvar _c;\n$RefreshReg$(_c, \"MemberDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","NotificationPanel","TransactionHistory","LoanRequest","axios","jsxDEV","_jsxDEV","MemberDashboard","_s","user","token","accountDetails","setAccountDetails","loans","setLoans","fetchAccountDetails","fetchLoans","response","get","process","env","REACT_APP_API_URL","headers","Authorization","data","error","console","className","children","fullName","fileName","_jsxFileName","lineNumber","columnNumber","balance","loanLimit","map","loan","amount","status","Date","timestamp","toLocaleDateString","_id","onLoanRequested","_c","$RefreshReg$"],"sources":["/home/tyme/Portfolio/banking-app/frontend/src/components/Dashboard/MemberDashboard.js"],"sourcesContent":["// src/components/Dashboard/MemberDashboard.js\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../Auth/AuthContext';\nimport NotificationPanel from '../Notifications/NotificationPanel';\nimport TransactionHistory from './TransactionHistory';\nimport LoanRequest from '../Transactions/LoanRequest';\nimport axios from 'axios';\n\nconst MemberDashboard = () => {\n  const { user, token } = useContext(AuthContext);\n  const [accountDetails, setAccountDetails] = useState(null);\n  const [loans, setLoans] = useState([]);\n\n  useEffect(() => {\n    fetchAccountDetails();\n    fetchLoans();\n  }, []);\n\n  const fetchAccountDetails = async () => {\n    try {\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/account/member`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setAccountDetails(response.data);\n    } catch (error) {\n      console.error('Error fetching account details:', error);\n    }\n  };\n\n  const fetchLoans = async () => {\n    try {\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/loans/user`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setLoans(response.data);\n    } catch (error) {\n      console.error('Error fetching loans:', error);\n    }\n  };\n\n  return (\n    <div className=\"member-dashboard\">\n      <div className=\"dashboard-header\">\n        <h1>Welcome, {user.fullName}</h1>\n        <NotificationPanel />\n      </div>\n\n      <div className=\"account-summary\">\n        <h2>Account Summary</h2>\n        {accountDetails && (\n          <div className=\"summary-details\">\n            <p>Account Balance: ${accountDetails.balance}</p>\n            <p>Available Loan Limit: ${accountDetails.loanLimit}</p>\n          </div>\n        )}\n      </div>\n\n      <div className=\"loan-status\">\n        <h2>Your Loans</h2>\n        {loans.map(loan => (\n          <div key={loan._id} className=\"loan-card\">\n            <p>Amount: ${loan.amount}</p>\n            <p>Status: {loan.status}</p>\n            <p>Date: {new Date(loan.timestamp).toLocaleDateString()}</p>\n          </div>\n        ))}\n      </div>\n\n      <LoanRequest onLoanRequested={fetchLoans} />\n      <TransactionHistory />\n    </div>\n  );\n};\n\nexport default MemberDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}